<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Calling System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- QR Scanner View -->
        <div id="scanner-view" class="view active">
            <div class="header">
                <h1>Scan QR to Call</h1>
            </div>
            <div class="scanner-container">
                <video id="qr-scanner" autoplay></video>
                <div class="scanner-overlay">
                    <div class="scanner-frame"></div>
                </div>
            </div>
            <div class="scanner-actions">
                <button id="switch-camera" class="btn btn-secondary">Switch Camera</button>
                <button id="manual-input" class="btn btn-primary">Enter Code Manually</button>
            </div>
        </div>

        <!-- Call Interface View -->
        <div id="call-view" class="view">
            <div class="call-header">
                <div class="call-info">
                    <div class="avatar">
                        <img id="receiver-avatar" src="" alt="Receiver">
                    </div>
                    <div class="call-details">
                        <h2 id="receiver-name">Connecting...</h2>
                        <p id="call-status">Calling...</p>
                    </div>
                </div>
            </div>
            
            <div class="video-container">
                <div id="remote-video" class="video-player remote"></div>
                <div id="local-video" class="video-player local"></div>
            </div>
            
            <div class="call-controls">
                <button id="mute-btn" class="control-btn">
                    <span class="icon">ðŸŽ¤</span>
                </button>
                <button id="video-btn" class="control-btn">
                    <span class="icon">ðŸ“¹</span>
                </button>
                <button id="end-call-btn" class="control-btn end-call">
                    <span class="icon">ðŸ“ž</span>
                </button>
                <button id="speaker-btn" class="control-btn">
                    <span class="icon">ðŸ”Š</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.1/socket.io.js"></script>
    <script src="https://download.agora.io/sdk/release/AgoraRTC_N-4.23.1.js"></script>
    <script src="https://unpkg.com/@zxing/library@latest/umd/index.min.js"></script>
    <script src="script.js"></script>
</body>
</html>